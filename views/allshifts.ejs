<%- include('partials/head') %>


    <body>
        <div class="nonModalDiv">

            <%- include('partials/navbar') %>

                <section class="subNav">
                    <div class="subNavLeft">
                        <a href="/newChangeRequest">
                            <button class="subNavBtn changeReqBtn" id="changeReq">Time Off Request</button>
                        </a>
                    </div>
                </section>
                <section class="main">


                    <% if (mainShifts[0]===undefined) { %>
                        <div class="timeOffRequestPolicy">
                            <h2>TIME OFF REQUEST POLICY</h2>
                            <ul>
                                <li>• All Time Off Requests must be submitted at least 2
                                    weeks in
                                    advance.</li>
                                <li>• Requests are not approved until entered by the Club
                                    Service
                                    Manager (CSM)
                                    on
                                    www.superiorshiftchange.com
                                </li>
                                <li>• It is the responsibility of the CSR requesting time
                                    off to
                                    arrange coverage for
                                    their regularly scheduled shift.
                                </li>
                                <li>• You may post your request on GroupMe and/or message
                                    coworkers directly
                                    to find coverage.
                                </li>
                                <li>• Once you sign up to cover a shift, it is your shift.
                                    You may
                                    not remove your
                                    name because you changed your mind
                                </li>
                            </ul>
                        </div>

                        <h1 class="noShifth1">Main Club</h1>

                        <section class="noShiftsDiv">
                            <h2 class="noCurrentShifth2">No current shifts for Main Club</h2>
                        </section>

                        <% } else { %>
                            <div class="timeOffRequestPolicy">
                                <h2>TIME OFF REQUEST POLICY</h2>
                                <ul>
                                    <li>• All Time Off Requests must be submitted at least 2
                                        weeks in
                                        advance.</li>
                                    <li>• Requests are not approved until entered by the Club
                                        Service
                                        Manager (CSM)
                                        on
                                        www.superiorshiftchange.com
                                    </li>
                                    <li>• It is the responsibility of the CSR requesting time
                                        off to
                                        arrange coverage for
                                        their regularly scheduled shift.
                                    </li>
                                    <li>• You may post your request on GroupMe and/or message
                                        coworkers directly
                                        to find coverage.
                                    </li>
                                    <li>• Once you sign up to cover a shift, it is your shift.
                                        You may
                                        not remove your
                                        name because you changed your mind
                                    </li>
                                </ul>
                            </div>
                            <h1 class="ifshifth1">Main Club</h1>
                            <% for (let shift of mainShifts) { %>

                                <span class="shiftDate">
                                    <%= new Date(shift.date).toLocaleDateString("en-US", { weekday: "long" ,
                                        month: "2-digit" , day: "2-digit" , year: "numeric" , timeZone: "UTC" }) %>
                                </span>

                                <section class="mainFormWrapper">
                                    <form class="mainForm" action="/allshifts/<%= shift._id %>?_method=PUT"
                                        method="POST">

                                        <input type="hidden" name="_id" value="<%= shift._id %>">

                                        <input class="inputVal" type="date" name="date" id="date"
                                            value="<%= shift.date.toISOString().split('T')[0] %>" required>

                                        <input class="inputVal" type="text" name="coveringShift" id="coveringShift"
                                            placeholder="Covering Shift" value="<%= shift.coveringShift%>">

                                        <div class="shiftLabelWrap">
                                            <label for="needsCoverage">Working For:</label>
                                            <input class="inputVal" type="text" name="needsCoverage" id="needsCoverage"
                                                placeholder="Needing Coverage" value="<%= shift.needsCoverage%>"
                                                required>
                                        </div>

                                        <div class="shiftLabelWrap">
                                            <label for="startTime">Start Time:</label>
                                            <input class="inputVal" type="time" name="startTime" id="startTime"
                                                value="<%= shift.startTime%>" required>
                                        </div>

                                        <div class="shiftLabelWrap">
                                            <label for="endTime">End Time:</label>
                                            <input class="inputVal" type="time" name="endTime" id="endTime"
                                                value="<%= shift.endTime%>" required>
                                        </div>

                                        <button class="submitBtn" type="submit">Update</button>
                                    </form>

                                    <form class="deleteForm" id="deleteForm_<%= shift._id %>"
                                        action="/allshifts/<%= shift._id %>?_method=DELETE" method="post">
                                        <input type="hidden" name="_id" value="<%= shift._id %>">
                                        <button class="deleteBtn" type="submit">Delete</button>
                                    </form>
                                </section>
                                <% } %>
                                    <% } %>




                                        <% if (club2Shifts[0]===undefined) { %>
                                            <h1 class="noShifth1">Club 2</h1>
                                            <section class="noShiftsDiv">
                                                <h2 class="noCurrentShifth2">No current shifts for Club 2</h2>
                                            </section>
                                            <% } else { %>
                                                <h1 class="ifshifth1">Club 2</h1>
                                                <% for (let shift of club2Shifts) { %>

                                                    <span class="shiftDate">
                                                        <%= new Date(shift.date).toLocaleDateString("en-US", {
                                                            weekday: "long" , month: "2-digit" , day: "2-digit" ,
                                                            year: "numeric" , timeZone: "UTC" }) %>
                                                    </span>

                                                    <section class="mainFormWrapper">
                                                        <form class="mainForm"
                                                            action="/allshifts/<%= shift._id %>?_method=PUT"
                                                            method="POST">

                                                            <input type="hidden" name="_id" value="<%= shift._id %>">

                                                            <input class="inputVal" type="date" name="date" id="date"
                                                                value="<%= shift.date.toISOString().split('T')[0] %>"
                                                                required>

                                                            <input class="inputVal" type="text" name="coveringShift"
                                                                id="coveringShift" placeholder="Covering Shift"
                                                                value="<%= shift.coveringShift%>">

                                                            <div class="shiftLabelWrap">
                                                                <label for="needsCoverage">Working For:</label>
                                                                <input class="inputVal" type="text" name="needsCoverage"
                                                                    id="needsCoverage" placeholder="Needing Coverage"
                                                                    value="<%= shift.needsCoverage%>" required>
                                                            </div>

                                                            <div class="shiftLabelWrap">
                                                                <label for="startTime">Start Time:</label>
                                                                <input class="inputVal" type="time" name="startTime"
                                                                    id="startTime" value="<%= shift.startTime%>"
                                                                    required>
                                                            </div>

                                                            <div class="shiftLabelWrap">
                                                                <label for="endTime">End Time:</label>
                                                                <input class="inputVal" type="time" name="endTime"
                                                                    id="endTime" value="<%= shift.endTime%>" required>
                                                            </div>

                                                            <button class="submitBtn" type="submit">Update</button>
                                                        </form>

                                                        <form class="deleteForm" id="deleteForm_<%= shift._id %>"
                                                            action="/allshifts/<%= shift._id %>?_method=DELETE"
                                                            method="post">
                                                            <input type="hidden" name="_id" value="<%= shift._id %>">
                                                            <button class="deleteBtn" type="submit">Delete</button>
                                                        </form>
                                                    </section>
                                                    <% } %>
                                                        <% } %>



                                                            <% if (epShifts[0]===undefined) { %>
                                                                <h1 class="noShifth1">Eagle Point</h1>
                                                                <section class="noShiftsDiv">
                                                                    <h2 class="noCurrentShifth2">No current shifts for
                                                                        Eagle Point</h2>
                                                                </section>
                                                                <% } else { %>
                                                                    <h1 class="ifshifth1">Eagle Point</h1>
                                                                    <% for (let shift of epShifts) { %>

                                                                        <span class="shiftDate">
                                                                            <%= new
                                                                                Date(shift.date).toLocaleDateString("en-US",
                                                                                { weekday: "long" , month: "2-digit" ,
                                                                                day: "2-digit" , year: "numeric" ,
                                                                                timeZone: "UTC" }) %>
                                                                        </span>

                                                                        <section class="mainFormWrapper">
                                                                            <form class="mainForm"
                                                                                action="/allshifts/<%= shift._id %>?_method=PUT"
                                                                                method="POST">

                                                                                <input type="hidden" name="_id"
                                                                                    value="<%= shift._id %>">

                                                                                <input class="inputVal" type="date"
                                                                                    name="date" id="date"
                                                                                    value="<%= shift.date.toISOString().split('T')[0] %>"
                                                                                    required>

                                                                                <input class="inputVal" type="text"
                                                                                    name="coveringShift"
                                                                                    id="coveringShift"
                                                                                    placeholder="Covering Shift"
                                                                                    value="<%= shift.coveringShift%>">

                                                                                <div class="shiftLabelWrap">
                                                                                    <label for="needsCoverage">Working
                                                                                        For:</label>
                                                                                    <input class="inputVal" type="text"
                                                                                        name="needsCoverage"
                                                                                        id="needsCoverage"
                                                                                        placeholder="Needing Coverage"
                                                                                        value="<%= shift.needsCoverage%>"
                                                                                        required>
                                                                                </div>

                                                                                <div class="shiftLabelWrap">
                                                                                    <label for="startTime">Start
                                                                                        Time:</label>
                                                                                    <input class="inputVal" type="time"
                                                                                        name="startTime" id="startTime"
                                                                                        value="<%= shift.startTime%>"
                                                                                        required>
                                                                                </div>

                                                                                <div class="shiftLabelWrap">
                                                                                    <label for="endTime">End
                                                                                        Time:</label>
                                                                                    <input class="inputVal" type="time"
                                                                                        name="endTime" id="endTime"
                                                                                        value="<%= shift.endTime%>"
                                                                                        required>
                                                                                </div>

                                                                                <button class="submitBtn"
                                                                                    type="submit">Update</button>
                                                                            </form>

                                                                            <form class="deleteForm"
                                                                                id="deleteForm_<%= shift._id %>"
                                                                                action="/allshifts/<%= shift._id %>?_method=DELETE"
                                                                                method="post">
                                                                                <input type="hidden" name="_id"
                                                                                    value="<%= shift._id %>">
                                                                                <button class="deleteBtn"
                                                                                    type="submit">Delete</button>
                                                                            </form>
                                                                        </section>
                                                                        <% } %>
                                                                            <% } %>

                </section>
        </div>

    </body>

    <%- include('partials/scripts') %>

        </html>